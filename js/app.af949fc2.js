(function(){"use strict";var e={1786:function(e,n,t){var u=t(5130),r=t(6768),a=t(144),o=t(4232),l=t(2261);const c=(0,l.nY)("currency",(()=>{const e=(0,a.KR)("RUB"),n=(0,a.KR)(["USD","EUR","RUB"]),t=(0,a.KR)({}),u=async()=>{try{const e=await fetch("https://status.neuralgeneration.com/api/currency"),n=await e.json(),u={};for(const t in n){const[e,r]=t.toUpperCase().split("-");u[e]||(u[e]={}),u[e][r]=n[t]}t.value=u}catch(e){console.error("Ошибка загрузки курсов:",e)}};return{baseCurrency:e,currencies:n,rates:t,fetchRates:u}})),s={class:"main"},v=["value"];var i={__name:"App",setup(e){const n=c(),{baseCurrency:t,currencies:i}=(0,l.bP)(n);return(0,r.sV)((()=>{n.fetchRates()})),(e,n)=>{const l=(0,r.g2)("router-link"),c=(0,r.g2)("router-view");return(0,r.uX)(),(0,r.CE)("div",s,[(0,r.Lk)("header",null,[(0,r.Lk)("nav",null,[(0,r.bF)(l,{to:"/"},{default:(0,r.k6)((()=>n[1]||(n[1]=[(0,r.eW)("Главная")]))),_:1}),(0,r.bF)(l,{to:"/convert"},{default:(0,r.k6)((()=>n[2]||(n[2]=[(0,r.eW)("Конвертация")]))),_:1})]),(0,r.bo)((0,r.Lk)("select",{"onUpdate:modelValue":n[0]||(n[0]=e=>(0,a.i9)(t)?t.value=e:null)},[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)((0,a.R1)(i),(e=>((0,r.uX)(),(0,r.CE)("option",{key:e,value:e},(0,o.v_)(e),9,v)))),128))],512),[[u.u1,(0,a.R1)(t)]])]),(0,r.bF)(c)])}}},p=t(1241);const f=(0,p.A)(i,[["__scopeId","data-v-2997d549"]]);var d=f,b=t(1387);t(8111),t(2489),t(3579);const h={class:"main-page"},y={key:0},k={key:1};var C={__name:"MainPage",setup(e){const n=c(),{baseCurrency:t,currencies:u,rates:s}=(0,l.bP)(n),v=(0,r.EW)((()=>u.value.filter((e=>e!==t.value)))),i=e=>{const n=s.value[e]?.[t.value],u=s.value[t.value]?.[e];return n?n.toFixed(2):u?(1/u).toFixed(2):"N/A"};return(e,n)=>((0,r.uX)(),(0,r.CE)("div",h,[(0,r.Lk)("h1",null,"Курсы валют относительно "+(0,o.v_)((0,a.R1)(t)),1),(0,a.R1)(s)[(0,a.R1)(t)]||Object.values((0,a.R1)(s)).some((e=>e[(0,a.R1)(t)]))?((0,r.uX)(),(0,r.CE)("ul",y,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(v.value,(e=>((0,r.uX)(),(0,r.CE)("li",{key:e}," 1 "+(0,o.v_)((0,a.R1)(t))+" = "+(0,o.v_)(i(e))+" "+(0,o.v_)(e),1)))),128))])):((0,r.uX)(),(0,r.CE)("p",k,"Загрузка курсов..."))]))}};const _=(0,p.A)(C,[["__scopeId","data-v-596144b6"]]);var R=_;t(116);const m={class:"convert-page"},E=["onUpdate:modelValue"],g=["value"],X=["onUpdate:modelValue","onInput","disabled"],w={key:0,class:"error-message"},F={key:1,class:"error-message"};var K={__name:"ConvertPage",setup(e){const n=c(),{currencies:t,baseCurrency:s,rates:v}=(0,l.bP)(n),i=(0,a.KR)([s.value,t.value.find((e=>e!==s.value))]),p=(0,a.KR)(["",""]),f=(0,a.KR)([!1,!1]),d=(0,a.KR)(!1),b=(0,a.KR)(!1),h=(e,n)=>{const t=v.value[e]?.[n],u=v.value[n]?.[e];return t||(u?1/u:null)},y=(e,n)=>{const t=i.value[e],u=i.value[n],r=p.value[e];if(t===u)return b.value=!0,p.value[n]="",void(f.value[e]=!1);if(b.value=!1,""===r)return p.value[n]="",void(f.value[e]=!1);const a=parseFloat(r);if(isNaN(a))return f.value[e]=!0,void(p.value[n]="");const o=h(t,u);null!==o?(p.value[n]=(a*o).toFixed(2),f.value[n]=!1):p.value[n]="",f.value[e]=!1},k=e=>{if(d.value||b.value)return;d.value=!0;const n=0===e?1:0;y(e,n),d.value=!1},C=()=>{y(0,1)};return(0,r.wB)(i,(()=>{y(0,1)}),{deep:!0}),(e,n)=>((0,r.uX)(),(0,r.CE)("div",m,[n[0]||(n[0]=(0,r.Lk)("h1",null,"Конвертер валют",-1)),((0,r.uX)(),(0,r.CE)(r.FK,null,(0,r.pI)(2,((e,n)=>(0,r.Lk)("div",{class:"row",key:n},[(0,r.bo)((0,r.Lk)("select",{"onUpdate:modelValue":e=>i.value[n]=e,onChange:C},[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)((0,a.R1)(t),(e=>((0,r.uX)(),(0,r.CE)("option",{key:e,value:e},(0,o.v_)(e),9,g)))),128))],40,E),[[u.u1,i.value[n]]]),(0,r.bo)((0,r.Lk)("input",{type:"text","onUpdate:modelValue":e=>p.value[n]=e,onInput:e=>k(n),class:(0,o.C4)({error:f.value[n]||b.value}),disabled:b.value},null,42,X),[[u.Jo,p.value[n]]])]))),64)),b.value?((0,r.uX)(),(0,r.CE)("p",w,"Выберите разные валюты")):f.value.some(Boolean)?((0,r.uX)(),(0,r.CE)("p",F,"Введите корректное число")):(0,r.Q3)("",!0)]))}};const O=(0,p.A)(K,[["__scopeId","data-v-66c2bb99"]]);var U=O;const x=[{path:"/",component:R},{path:"/convert",component:U}],I=(0,b.aE)({history:(0,b.LA)(),routes:x});var L=I;const j=(0,u.Ef)(d),P=(0,l.Ey)();j.use(P),j.use(L);const A=c();A.fetchRates().then((()=>{j.mount("#app")}))}},n={};function t(u){var r=n[u];if(void 0!==r)return r.exports;var a=n[u]={exports:{}};return e[u].call(a.exports,a,a.exports,t),a.exports}t.m=e,function(){var e=[];t.O=function(n,u,r,a){if(!u){var o=1/0;for(v=0;v<e.length;v++){u=e[v][0],r=e[v][1],a=e[v][2];for(var l=!0,c=0;c<u.length;c++)(!1&a||o>=a)&&Object.keys(t.O).every((function(e){return t.O[e](u[c])}))?u.splice(c--,1):(l=!1,a<o&&(o=a));if(l){e.splice(v--,1);var s=r();void 0!==s&&(n=s)}}return n}a=a||0;for(var v=e.length;v>0&&e[v-1][2]>a;v--)e[v]=e[v-1];e[v]=[u,r,a]}}(),function(){t.n=function(e){var n=e&&e.__esModule?function(){return e["default"]}:function(){return e};return t.d(n,{a:n}),n}}(),function(){t.d=function(e,n){for(var u in n)t.o(n,u)&&!t.o(e,u)&&Object.defineProperty(e,u,{enumerable:!0,get:n[u]})}}(),function(){t.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)}}(),function(){var e={524:0};t.O.j=function(n){return 0===e[n]};var n=function(n,u){var r,a,o=u[0],l=u[1],c=u[2],s=0;if(o.some((function(n){return 0!==e[n]}))){for(r in l)t.o(l,r)&&(t.m[r]=l[r]);if(c)var v=c(t)}for(n&&n(u);s<o.length;s++)a=o[s],t.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return t.O(v)},u=self["webpackChunkconvert_currency"]=self["webpackChunkconvert_currency"]||[];u.forEach(n.bind(null,0)),u.push=n.bind(null,u.push.bind(u))}();var u=t.O(void 0,[504],(function(){return t(1786)}));u=t.O(u)})();
//# sourceMappingURL=app.af949fc2.js.map